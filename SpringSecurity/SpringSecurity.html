<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m Ph√° Spring Security</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: ·ª®ng d·ª•ng ƒë∆∞·ª£c thi·∫øt k·∫ø theo c·∫•u tr√∫c dashboard theo ch·ªß ƒë·ªÅ, phi tuy·∫øn t√≠nh ƒë·ªÉ bi·∫øn t√†i li·ªáu h·ªçc thu·∫≠t th√†nh m·ªôt c√¥ng c·ª• h·ªçc t·∫≠p t∆∞∆°ng t√°c. C√°c ph·∫ßn ch√≠nh (T·ªïng quan, Ki·∫øn tr√∫c, X√°c th·ª±c, Ph√¢n quy·ªÅn, Case Study, Best Practices) ƒë∆∞·ª£c truy c·∫≠p qua thanh ƒëi·ªÅu h∆∞·ªõng c·ªë ƒë·ªãnh. C·∫•u tr√∫c n√†y khuy·∫øn kh√≠ch s·ª± kh√°m ph√° t·ª± do, cho ph√©p ng∆∞·ªùi d√πng k·∫øt n·ªëi c√°c kh√°i ni·ªám m·ªôt c√°ch tr·ª±c quan (v√≠ d·ª•: xem m·ªôt th√†nh ph·∫ßn trong s∆° ƒë·ªì ki·∫øn tr√∫c v√† sau ƒë√≥ th·∫•y n√≥ ƒë∆∞·ª£c √°p d·ª•ng trong case study). M·ª•c ti√™u l√† tƒÉng c∆∞·ªùng s·ª± hi·ªÉu bi·∫øt v√† kh·∫£ nƒÉng ghi nh·ªõ th√¥ng qua t∆∞∆°ng t√°c thay v√¨ ƒë·ªçc tu·∫ßn t·ª±. -->
    <!-- Visualization & Content Choices:
        - T·ªïng quan: S·ª≠ d·ª•ng c√°c th·∫ª (card) so s√°nh AuthN v√† AuthZ.
        - So s√°nh Session vs Token: D√πng bi·ªÉu ƒë·ªì c·ªôt ngang c·ªßa Chart.js ƒë·ªÉ so s√°nh c√°c ti√™u ch√≠ nh∆∞ kh·∫£ nƒÉng m·ªü r·ªông, tr·∫°ng th√°i. T∆∞∆°ng t√°c qua tooltip.
        - Ki·∫øn tr√∫c c·ªët l√µi: S∆° ƒë·ªì lu·ªìng d·ªØ li·ªáu ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng HTML/Tailwind. T∆∞∆°ng t√°c b·∫±ng c√°ch nh·∫•p v√†o t·ª´ng th√†nh ph·∫ßn ƒë·ªÉ xem chi ti·∫øt, gi√∫p h√¨nh dung s·ª± ph·ªëi h·ª£p gi·ªØa ch√∫ng.
        - Ph∆∞∆°ng th·ª©c x√°c th·ª±c: Giao di·ªán theo th·∫ª (tab) ƒë·ªÉ so s√°nh Form Login, Basic, JWT, OAuth2, tr√¨nh b√†y th√¥ng tin c√¥ ƒë·ªçng v√† c√°c ƒëo·∫°n m√£ v√≠ d·ª•.
        - Case Study: S∆° ƒë·ªì ki·∫øn tr√∫c microservices (HTML/CSS) minh h·ªça lu·ªìng y√™u c·∫ßu v·ªõi JWT, c√≥ th·ªÉ nh·∫•p v√†o ƒë·ªÉ xem gi·∫£i th√≠ch t·ª´ng b∆∞·ªõc.
        - Best Practices: Danh s√°ch ki·ªÉm tra (checklist) t∆∞∆°ng t√°c ƒë·ªÉ tr√¨nh b√†y c√°c khuy·∫øn ngh·ªã m·ªôt c√°ch ng·∫Øn g·ªçn, d·ªÖ theo d√µi.
        - To√†n b·ªô c√°c y·∫øu t·ªë ƒë·ªì h·ªça ƒë∆∞·ª£c t·∫°o b·∫±ng HTML/CSS/Canvas (Chart.js), kh√¥ng s·ª≠ d·ª•ng SVG hay Mermaid JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #F8F7F4;
            color: #1f2937;
        }
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        .nav-link.active, .nav-link:hover {
            color: #2563eb;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #2563eb;
            transition: width 0.3s ease;
        }
        .nav-link.active::after {
            width: 100%;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .tab-button.active {
            border-color: #2563eb;
            color: #2563eb;
            background-color: #eff6ff;
        }
        .flowchart-box {
            cursor: pointer;
            border: 2px solid #d1d5db;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            transition: all 0.3s ease;
            background-color: white;
        }
        .flowchart-box:hover, .flowchart-box.active {
            border-color: #2563eb;
            background-color: #eff6ff;
            color: #1e40af;
            transform: scale(1.05);
        }
        .flowchart-arrow {
            position: relative;
            width: 100%;
            height: 2px;
            background-color: #9ca3af;
        }
        .flowchart-arrow::after {
            content: '';
            position: absolute;
            right: -1px;
            top: -4px;
            border: solid #9ca3af;
            border-width: 0 2px 2px 0;
            display: inline-block;
            padding: 4px;
            transform: rotate(-45deg);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .code-block {
            background-color: #1E293B;
            color: #E2E8F0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.875rem;
        }
    </style>
</head>
<body class="antialiased">

<header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <div class="flex-shrink-0">
                <h1 class="text-xl font-bold text-gray-800">Spring Security</h1>
            </div>
            <div class="hidden md:block">
                <div class="ml-10 flex items-baseline space-x-4">
                    <a href="#overview" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">T·ªïng Quan</a>
                    <a href="#architecture" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Ki·∫øn Tr√∫c</a>
                    <a href="#auth-methods" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">X√°c Th·ª±c</a>
                    <a href="#authorization" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Ph√¢n Quy·ªÅn</a>
                    <a href="#case-study" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Case Study</a>
                    <a href="#best-practices" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Best Practices</a>
                </div>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                    <span class="sr-only">M·ªü menu</span>
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#overview" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">T·ªïng Quan</a>
                <a href="#architecture" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">Ki·∫øn Tr√∫c</a>
                <a href="#auth-methods" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">X√°c Th·ª±c</a>
                <a href="#authorization" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">Ph√¢n Quy·ªÅn</a>
                <a href="#case-study" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">Case Study</a>
                <a href="#best-practices" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">Best Practices</a>
            </div>
        </div>
    </nav>
</header>

<main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <section id="overview" class="py-16">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Ng∆∞·ªùi G√°c C·ªïng Tin C·∫≠y</h2>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">Ph·∫ßn n√†y gi·ªõi thi·ªáu c√°c kh√°i ni·ªám c·ªët l√µi c·ªßa Spring Security. B·∫°n s·∫Ω hi·ªÉu ƒë∆∞·ª£c Spring Security l√† g√¨, vai tr√≤ c·ªßa n√≥ trong c√°c ·ª©ng d·ª•ng hi·ªán ƒë·∫°i, v√† ph√¢n bi·ªát r√µ hai tr·ª• c·ªôt c·ªßa b·∫£o m·∫≠t: X√°c th·ª±c (Authentication) v√† Ph√¢n quy·ªÅn (Authorization).</p>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <div class="card p-6">
                <h3 class="text-xl font-semibold mb-3 text-blue-700">Authentication (X√°c th·ª±c)</h3>
                <p class="text-gray-600 font-bold mb-4">"B·∫°n l√† ai?"</p>
                <p class="text-gray-700">L√† qu√° tr√¨nh x√°c minh danh t√≠nh c·ªßa ng∆∞·ªùi d√πng. Spring Security ki·ªÉm tra th√¥ng tin ƒëƒÉng nh·∫≠p (nh∆∞ username/password, token, OTP) ƒë·ªÉ ƒë·∫£m b·∫£o ng∆∞·ªùi d√πng l√† th·∫≠t v√† h·ª£p l·ªá tr∆∞·ªõc khi cho ph√©p h·ªç v√†o h·ªá th·ªëng.</p>
            </div>
            <div class="card p-6">
                <h3 class="text-xl font-semibold mb-3 text-green-700">Authorization (Ph√¢n quy·ªÅn)</h3>
                <p class="text-gray-600 font-bold mb-4">"B·∫°n ƒë∆∞·ª£c l√†m g√¨?"</p>
                <p class="text-gray-700">Sau khi ƒë√£ x√°c th·ª±c, ƒë√¢y l√† qu√° tr√¨nh quy·∫øt ƒë·ªãnh c√°c quy·ªÅn h·∫°n c·ªßa ng∆∞·ªùi d√πng. Spring Security x√°c ƒë·ªãnh xem ng∆∞·ªùi d√πng c√≥ ƒë∆∞·ª£c ph√©p truy c·∫≠p m·ªôt t√†i nguy√™n c·ª• th·ªÉ hay th·ª±c hi·ªán m·ªôt h√†nh ƒë·ªông n√†o ƒë√≥ hay kh√¥ng (v√≠ d·ª•: ch·ªâ `ADMIN` m·ªõi ƒë∆∞·ª£c x√≥a s·∫£n ph·∫©m).</p>
            </div>
        </div>

        <div class="mt-16">
            <h3 class="text-2xl font-bold text-center mb-8">Session-based vs. Token-based (JWT)</h3>
            <p class="mt-4 max-w-3xl mx-auto text-center text-gray-600 mb-8">Hai ph∆∞∆°ng ph√°p x√°c th·ª±c ph·ªï bi·∫øn v·ªõi nh·ªØng ƒë·∫∑c ƒëi·ªÉm ri√™ng, ph√π h·ª£p cho c√°c ki·∫øn tr√∫c ·ª©ng d·ª•ng kh√°c nhau. Bi·ªÉu ƒë·ªì d∆∞·ªõi ƒë√¢y so s√°nh ch√∫ng d·ª±a tr√™n c√°c ti√™u ch√≠ quan tr·ªçng.</p>
            <div class="card p-6">
                <div class="chart-container">
                    <canvas id="authComparisonChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section id="architecture" class="py-16 bg-gray-50 rounded-2xl">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Ki·∫øn Tr√∫c C·ªët L√µi</h2>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">Kh√°m ph√° c√°ch c√°c th√†nh ph·∫ßn ch√≠nh c·ªßa Spring Security ph·ªëi h·ª£p v·ªõi nhau ƒë·ªÉ b·∫£o v·ªá ·ª©ng d·ª•ng c·ªßa b·∫°n. Nh·∫•p v√†o t·ª´ng kh·ªëi trong s∆° ƒë·ªì ƒë·ªÉ xem chi ti·∫øt vai tr√≤ c·ªßa ch√∫ng trong lu·ªìng x·ª≠ l√Ω y√™u c·∫ßu.</p>
        </div>

        <div class="flex flex-col items-center space-y-4 md:space-y-0 md:flex-row md:justify-center md:space-x-4 mb-8">
            <div class="flowchart-box" data-component="request">HTTP Request</div>
            <div class="w-px md:w-16 h-8 md:h-px flowchart-arrow transform md:rotate-0 rotate-90"></div>
            <div class="flowchart-box" data-component="filterchain">SecurityFilterChain</div>
            <div class="w-px md:w-16 h-8 md:h-px flowchart-arrow transform md:rotate-0 rotate-90"></div>
            <div class="flowchart-box" data-component="authmanager">AuthenticationManager</div>
            <div class="w-px md:w-16 h-8 md:h-px flowchart-arrow transform md:rotate-0 rotate-90"></div>
            <div class="flowchart-box" data-component="controller">Controller/Resource</div>
        </div>

        <div id="component-details" class="mt-12 max-w-4xl mx-auto">
            <div class="card p-8 min-h-[200px] flex items-center justify-center">
                <p class="text-gray-500 text-center">Nh·∫•p v√†o m·ªôt th√†nh ph·∫ßn trong s∆° ƒë·ªì ƒë·ªÉ xem m√¥ t·∫£ chi ti·∫øt.</p>
            </div>
        </div>
    </section>

    <section id="auth-methods" class="py-16">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">C√°c Ph∆∞∆°ng Th·ª©c X√°c Th·ª±c</h2>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">Spring Security h·ªó tr·ª£ nhi·ªÅu c∆° ch·∫ø x√°c th·ª±c. H√£y c√πng t√¨m hi·ªÉu v·ªÅ c√°c ph∆∞∆°ng th·ª©c ph·ªï bi·∫øn, t·ª´ Form Login truy·ªÅn th·ªëng ƒë·∫øn JWT hi·ªán ƒë·∫°i cho microservices.</p>
        </div>
        <div class="max-w-5xl mx-auto">
            <div class="border-b border-gray-200 mb-6">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="form-login">Form Login</button>
                    <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="http-basic">HTTP Basic</button>
                    <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="jwt">JWT (Token-based)</button>
                    <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="oauth2">OAuth2/OIDC</button>
                </nav>
            </div>
            <div id="tab-content" class="card p-6">
            </div>
        </div>
    </section>

    <section id="authorization" class="py-16 bg-gray-50 rounded-2xl">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Ph√¢n Quy·ªÅn Chi Ti·∫øt</h2>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">B·∫£o m·∫≠t ·ªü c·∫•p ƒë·ªô ph∆∞∆°ng th·ª©c v·ªõi c√°c annotation m·∫°nh m·∫Ω v√† Ng√¥n ng·ªØ Bi·ªÉu th·ª©c Spring (SpEL). ƒê√¢y l√† c√°ch b·∫°n ki·ªÉm so√°t ai c√≥ th·ªÉ l√†m g√¨ ·ªü m·ª©c ƒë·ªô chi ti·∫øt nh·∫•t.</p>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
            <div class="card p-6 text-center">
                <h3 class="font-semibold text-lg mb-2">@PreAuthorize</h3>
                <p class="text-sm text-gray-600">Ki·ªÉm tra quy·ªÅn <span class="font-bold">tr∆∞·ªõc khi</span> th·ª±c thi ph∆∞∆°ng th·ª©c. R·∫•t linh ho·∫°t v·ªõi SpEL.</p>
                <div class="code-block mt-4 text-left text-xs">@PreAuthorize("hasRole('ADMIN')")</div>
            </div>
            <div class="card p-6 text-center">
                <h3 class="font-semibold text-lg mb-2">@PostAuthorize</h3>
                <p class="text-sm text-gray-600">Ki·ªÉm tra quy·ªÅn <span class="font-bold">sau khi</span> ph∆∞∆°ng th·ª©c th·ª±c thi, d·ª±a tr√™n k·∫øt qu·∫£ tr·∫£ v·ªÅ.</p>
                <div class="code-block mt-4 text-left text-xs">@PostAuthorize("returnObject.owner == authentication.name")</div>
            </div>
            <div class="card p-6 text-center">
                <h3 class="font-semibold text-lg mb-2">@Secured</h3>
                <p class="text-sm text-gray-600">M·ªôt c√°ch ƒë∆°n gi·∫£n ƒë·ªÉ y√™u c·∫ßu c√°c vai tr√≤ c·ª• th·ªÉ. Kh√¥ng h·ªó tr·ª£ SpEL.</p>
                <div class="code-block mt-4 text-left text-xs">@Secured({"ROLE_USER", "ROLE_ADMIN"})</div>
            </div>
            <div class="card p-6 text-center">
                <h3 class="font-semibold text-lg mb-2">@RolesAllowed</h3>
                <p class="text-sm text-gray-600">T∆∞∆°ng t·ª± @Secured, l√† m·ªôt ph·∫ßn c·ªßa ti√™u chu·∫©n JSR-250.</p>
                <div class="code-block mt-4 text-left text-xs">@RolesAllowed("ADMIN")</div>
            </div>
        </div>
    </section>

    <section id="case-study" class="py-16">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Case Study: H·ªá Th·ªëng ƒê·∫∑t M√≥n ƒÇn</h2>
            <p class="mt-4 max-w-3xl mx-auto text-lg text-gray-600">√Åp d·ª•ng c√°c kh√°i ni·ªám ƒë√£ h·ªçc v√†o m·ªôt ki·∫øn tr√∫c microservices th·ª±c t·∫ø. S∆° ƒë·ªì n√†y minh h·ªça lu·ªìng x√°c th·ª±c v√† ph√¢n quy·ªÅn s·ª≠ d·ª•ng API Gateway v√† JWT, m·ªôt m√¥ h√¨nh ph·ªï bi·∫øn v√† hi·ªáu qu·∫£.</p>
        </div>
        <div class="max-w-5xl mx-auto p-6 card">
            <div class="flex flex-col md:flex-row items-center justify-between space-y-8 md:space-y-0 md:space-x-8">
                <!-- Client -->
                <div class="text-center">
                    <div class="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2">
                        <span class="text-3xl">üì±</span>
                    </div>
                    <p class="font-semibold">Client (SPA/Mobile)</p>
                </div>

                <div class="w-px md:w-24 h-12 md:h-px flowchart-arrow transform md:rotate-0 rotate-90"></div>

                <!-- API Gateway -->
                <div class="text-center">
                    <div class="w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-2">
                        <span class="text-3xl">üõ°Ô∏è</span>
                    </div>
                    <p class="font-semibold">API Gateway</p>
                    <p class="text-xs text-gray-500">X√°c th·ª±c JWT</p>
                </div>

                <div class="w-px md:w-24 h-12 md:h-px flowchart-arrow transform md:rotate-0 rotate-90"></div>

                <!-- Microservices -->
                <div class="flex flex-col space-y-4">
                    <div class="flex items-center space-x-4">
                        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center">
                            <span class="text-2xl">üîë</span>
                        </div>
                        <div>
                            <p class="font-semibold">Auth Service</p>
                            <p class="text-xs text-gray-500">Ph√°t h√†nh Token</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center">
                            <span class="text-2xl">üçî</span>
                        </div>
                        <div>
                            <p class="font-semibold">Order Service</p>
                            <p class="text-xs text-gray-500">Ph√¢n quy·ªÅn chi ti·∫øt</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="text-center mt-8 text-gray-600">Trong m√¥ h√¨nh n√†y, API Gateway ƒë√≥ng vai tr√≤ l√† l·ªõp b·∫£o v·ªá ƒë·∫ßu ti√™n, x√°c th·ª±c t·∫•t c·∫£ c√°c y√™u c·∫ßu ƒë·∫øn. Ch·ªâ nh·ªØng y√™u c·∫ßu h·ª£p l·ªá m·ªõi ƒë∆∞·ª£c chuy·ªÉn ti·∫øp ƒë·∫øn c√°c microservice nghi·ªáp v·ª•, gi√∫p gi·∫£m t·∫£i v√† tƒÉng c∆∞·ªùng b·∫£o m·∫≠t cho to√†n h·ªá th·ªëng.</p>
        </div>
    </section>

    <section id="best-practices" class="py-16 bg-gray-50 rounded-2xl">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Th·ª±c Ti·ªÖn T·ªët Nh·∫•t</h2>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">M·ªôt danh s√°ch c√°c khuy·∫øn ngh·ªã quan tr·ªçng ƒë·ªÉ x√¢y d·ª±ng m·ªôt ·ª©ng d·ª•ng kh√¥ng ch·ªâ m·∫°nh m·∫Ω m√† c√≤n th·ª±c s·ª± an to√†n.</p>
        </div>
        <div class="max-w-3xl mx-auto space-y-4">
            <div class="card p-4 flex items-center space-x-4">
                <span class="text-2xl text-green-500">‚úÖ</span>
                <div>
                    <h4 class="font-semibold">Lu√¥n m√£ h√≥a m·∫≠t kh·∫©u</h4>
                    <p class="text-sm text-gray-600">S·ª≠ d·ª•ng `BCryptPasswordEncoder` ho·∫∑c c√°c thu·∫≠t to√°n m·∫°nh t∆∞∆°ng ƒë∆∞∆°ng. Kh√¥ng bao gi·ªù l∆∞u m·∫≠t kh·∫©u d·∫°ng vƒÉn b·∫£n th√¥.</p>
                </div>
            </div>
            <div class="card p-4 flex items-center space-x-4">
                <span class="text-2xl text-green-500">‚úÖ</span>
                <div>
                    <h4 class="font-semibold">S·ª≠ d·ª•ng HTTPS</h4>
                    <p class="text-sm text-gray-600">B·∫£o v·ªá d·ªØ li·ªáu tr√™n ƒë∆∞·ªùng truy·ªÅn, ƒë·∫∑c bi·ªát l√† khi g·ª≠i token ho·∫∑c th√¥ng tin ƒëƒÉng nh·∫≠p.</p>
                </div>
            </div>
            <div class="card p-4 flex items-center space-x-4">
                <span class="text-2xl text-green-500">‚úÖ</span>
                <div>
                    <h4 class="font-semibold">JWT: Th·ªùi gian s·ªëng ng·∫Øn & Refresh Token</h4>
                    <p class="text-sm text-gray-600">Gi·∫£m thi·ªÉu r·ªßi ro n·∫øu Access Token b·ªã l·ªô. L∆∞u Refresh Token an to√†n (v√≠ d·ª•: HttpOnly cookie).</p>
                </div>
            </div>
            <div class="card p-4 flex items-center space-x-4">
                <span class="text-2xl text-green-500">‚úÖ</span>
                <div>
                    <h4 class="font-semibold">Nguy√™n t·∫Øc ƒë·∫∑c quy·ªÅn t·ªëi thi·ªÉu</h4>
                    <p class="text-sm text-gray-600">Ch·ªâ c·∫•p cho ng∆∞·ªùi d√πng nh·ªØng quy·ªÅn h·∫°n th·ª±c s·ª± c·∫ßn thi·∫øt ƒë·ªÉ th·ª±c hi·ªán c√¥ng vi·ªác c·ªßa h·ªç.</p>
                </div>
            </div>
            <div class="card p-4 flex items-center space-x-4">
                <span class="text-2xl text-green-500">‚úÖ</span>
                <div>
                    <h4 class="font-semibold">B·∫£o v·ªá ch·ªëng CSRF v√† XSS</h4>
                    <p class="text-sm text-gray-600">B·∫≠t b·∫£o v·ªá CSRF cho ·ª©ng d·ª•ng stateful. Lu√¥n x√°c th·ª±c ƒë·∫ßu v√†o v√† m√£ h√≥a ƒë·∫ßu ra ƒë·ªÉ ch·ªëng XSS.</p>
                </div>
            </div>
        </div>
    </section>

</main>

<footer class="bg-white border-t border-gray-200">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-gray-500">
        <p>&copy; 2025. M·ªôt c√¥ng c·ª• h·ªçc t·∫≠p ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ ƒë·ªìng h√†nh c√πng b·∫°n.</p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {

        const componentDetailsContent = {
            request: {
                title: 'HTTP Request',
                description: 'M·ªçi th·ª© b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢y. Khi m·ªôt client (tr√¨nh duy·ªát, ·ª©ng d·ª•ng di ƒë·ªông) g·ª≠i y√™u c·∫ßu ƒë·∫øn m√°y ch·ªß c·ªßa b·∫°n ƒë·ªÉ truy c·∫≠p m·ªôt t√†i nguy√™n ho·∫∑c th·ª±c hi·ªán m·ªôt h√†nh ƒë·ªông.'
            },
            filterchain: {
                title: 'SecurityFilterChain',
                description: 'L√† tr√°i tim c·ªßa Spring Security. ƒê√¢y l√† m·ªôt chu·ªói c√°c b·ªô l·ªçc m√† m·ªói y√™u c·∫ßu ph·∫£i ƒëi qua. M·ªói b·ªô l·ªçc c√≥ m·ªôt nhi·ªám v·ª• c·ª• th·ªÉ, nh∆∞ x·ª≠ l√Ω CSRF, x√°c th·ª±c, ph√¢n quy·ªÅn. ƒê√¢y l√† l·ªõp ph√≤ng th·ªß ƒë·∫ßu ti√™n v√† quan tr·ªçng nh·∫•t.'
            },
            authmanager: {
                title: 'AuthenticationManager',
                description: 'Th√†nh ph·∫ßn n√†y ƒëi·ªÅu ph·ªëi qu√° tr√¨nh x√°c th·ª±c. N√≥ nh·∫≠n th√¥ng tin ƒëƒÉng nh·∫≠p t·ª´ b·ªô l·ªçc, sau ƒë√≥ ·ªßy quy·ªÅn cho m·ªôt `AuthenticationProvider` ph√π h·ª£p ƒë·ªÉ ki·ªÉm tra xem th√¥ng tin ƒë√≥ c√≥ h·ª£p l·ªá hay kh√¥ng (v√≠ d·ª•: so s√°nh m·∫≠t kh·∫©u v·ªõi hash trong DB).'
            },
            controller: {
                title: 'Controller / Secured Resource',
                description: 'N·∫øu y√™u c·∫ßu v∆∞·ª£t qua t·∫•t c·∫£ c√°c b·ªô l·ªçc b·∫£o m·∫≠t v√† ƒë∆∞·ª£c x√°c th·ª±c/ph√¢n quy·ªÅn th√†nh c√¥ng, n√≥ s·∫Ω ƒë·∫øn ƒë∆∞·ª£c ƒë√≠ch cu·ªëi c√πng: controller c·ªßa b·∫°n. ƒê√¢y l√† n∆°i logic nghi·ªáp v·ª• c·ªßa ·ª©ng d·ª•ng ƒë∆∞·ª£c th·ª±c thi.'
            }
        };

        const tabContent = {
            'form-login': {
                title: 'Form Login',
                description: 'Ph∆∞∆°ng th·ª©c x√°c th·ª±c truy·ªÅn th·ªëng v√† ph·ªï bi·∫øn nh·∫•t cho c√°c ·ª©ng d·ª•ng web. Spring Security cung c·∫•p m·ªôt trang ƒëƒÉng nh·∫≠p m·∫∑c ƒë·ªãnh ho·∫∑c cho ph√©p b·∫°n t√πy ch·ªânh ho√†n to√†n. Ph√π h·ª£p cho c√°c ·ª©ng d·ª•ng server-side rendering.',
                code: `http
    .formLogin(form -> form
        .loginPage("/login") // Trang login t√πy ch·ªânh
        .permitAll()
    );`
            },
            'http-basic': {
                title: 'HTTP Basic Authentication',
                description: 'M·ªôt c∆° ch·∫ø ƒë∆°n gi·∫£n, g·ª≠i username v√† password ƒë∆∞·ª£c m√£ h√≥a Base64 trong header `Authorization`. D·ªÖ tri·ªÉn khai nh∆∞ng k√©m an to√†n n·∫øu kh√¥ng c√≥ HTTPS. Th∆∞·ªùng d√πng cho c√°c API n·ªôi b·ªô ho·∫∑c ki·ªÉm th·ª≠ nhanh.',
                code: `http.httpBasic(withDefaults());`
            },
            'jwt': {
                title: 'JWT (Token-based)',
                description: 'L·ª±a ch·ªçn h√†ng ƒë·∫ßu cho c√°c REST API v√† microservices. Server t·∫°o m·ªôt token (JWT) sau khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng v√† g·ª≠i cho client. Client g·ª≠i token n√†y trong m·ªói y√™u c·∫ßu ti·∫øp theo. C∆° ch·∫ø n√†y l√† "stateless" (phi tr·∫°ng th√°i), gi√∫p tƒÉng kh·∫£ nƒÉng m·ªü r·ªông.',
                code: `http
    .sessionManagement(sess -> sess
        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))
    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);`
            },
            'oauth2': {
                title: 'OAuth2 / OpenID Connect',
                description: 'M·ªôt framework ·ªßy quy·ªÅn cho ph√©p ·ª©ng d·ª•ng c·ªßa b·∫°n truy c·∫≠p t√†i nguy√™n thay m·∫∑t ng∆∞·ªùi d√πng t·ª´ m·ªôt d·ªãch v·ª• kh√°c (v√≠ d·ª•: "ƒêƒÉng nh·∫≠p v·ªõi Google"). OIDC l√† m·ªôt l·ªõp tr√™n OAuth2 cung c·∫•p x√°c th·ª±c. R·∫•t m·∫°nh m·∫Ω cho vi·ªác t√≠ch h·ª£p v·ªõi c√°c nh√† cung c·∫•p danh t√≠nh b√™n th·ª© ba.',
                code: `http.oauth2Login(withDefaults());`
            }
        };

        const flowchartBoxes = document.querySelectorAll('.flowchart-box');
        const detailsContainer = document.getElementById('component-details');

        flowchartBoxes.forEach(box => {
            box.addEventListener('click', () => {
                flowchartBoxes.forEach(b => b.classList.remove('active'));
                box.classList.add('active');
                const componentKey = box.dataset.component;
                const content = componentDetailsContent[componentKey];
                detailsContainer.innerHTML = `
                <div class="card p-8 animate-fade-in">
                    <h4 class="text-2xl font-bold mb-4 text-gray-800">${content.title}</h4>
                    <p class="text-gray-600 leading-relaxed">${content.description}</p>
                </div>
            `;
            });
        });

        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContentContainer = document.getElementById('tab-content');

        function updateTabContent(tabKey) {
            const content = tabContent[tabKey];
            tabContentContainer.innerHTML = `
            <div>
                <h4 class="text-xl font-bold mb-3">${content.title}</h4>
                <p class="text-gray-600 mb-4">${content.description}</p>
                <div class="code-block">${content.code.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</div>
            </div>
        `;
        }

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                const tabKey = button.dataset.tab;
                updateTabContent(tabKey);
            });
        });

        updateTabContent('form-login');
        document.querySelector('.tab-button[data-tab="form-login"]').classList.add('active');

        const ctx = document.getElementById('authComparisonChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Kh·∫£ nƒÉng m·ªü r·ªông (Scalability)', 'Tr·∫°ng th√°i (Statefulness)', 'B·∫£o m·∫≠t (Security)'],
                datasets: [{
                    label: 'Session-based',
                    data: [6, 9, 7],
                    backgroundColor: 'rgba(59, 130, 246, 0.7)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 1
                }, {
                    label: 'Token-based (JWT)',
                    data: [9, 3, 8],
                    backgroundColor: 'rgba(16, 185, 129, 0.7)',
                    borderColor: 'rgba(16, 185, 129, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 10,
                        title: {
                            display: true,
                            text: 'ƒê√°nh gi√° (1=Th·∫•p, 10=Cao)'
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'So s√°nh c√°c ph∆∞∆°ng ph√°p x√°c th·ª±c',
                        font: { size: 16 }
                    },
                    tooltip: {
                        callbacks: {
                            footer: (tooltipItems) => {
                                const tooltips = {
                                    'Kh·∫£ nƒÉng m·ªü r·ªông (Scalability)': {
                                        'Session-based': 'Kh√≥ m·ªü r·ªông theo chi·ªÅu ngang v√¨ tr·∫°ng th√°i session l∆∞u tr√™n server.',
                                        'Token-based (JWT)': 'R·∫•t d·ªÖ m·ªü r·ªông v√¨ server kh√¥ng c·∫ßn l∆∞u tr·∫°ng th√°i (stateless).'
                                    },
                                    'Tr·∫°ng th√°i (Statefulness)': {
                                        'Session-based': 'Stateful, server ph·∫£i l∆∞u v√† qu·∫£n l√Ω session.',
                                        'Token-based (JWT)': 'Stateless, m·ªçi th√¥ng tin c·∫ßn thi·∫øt n·∫±m trong token.'
                                    },
                                    'B·∫£o m·∫≠t (Security)': {
                                        'Session-based': 'D·ªÖ b·ªã t·∫•n c√¥ng CSRF, c·∫ßn b·∫£o v·ªá. D·ªÖ d√†ng v√¥ hi·ªáu h√≥a session ph√≠a server.',
                                        'Token-based (JWT)': 'Mi·ªÖn nhi·ªÖm v·ªõi CSRF. Kh√≥ v√¥ hi·ªáu h√≥a token ngay l·∫≠p t·ª©c n·∫øu b·ªã l·ªô.'
                                    }
                                };
                                const category = tooltipItems[0].label;
                                const datasetLabel = tooltipItems[0].dataset.label;
                                return tooltips[category] ? tooltips[category][datasetLabel] : '';
                            }
                        }
                    }
                }
            }
        });

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('section');

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.4
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').substring(1) === entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenu.classList.contains('hidden') === false) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

    });
</script>

</body>
</html>
